# Gulp_stylus_build

## Особенности
* Используется именование классов по [БЭМ](https://ru.bem.info/)
* Используется препроцессор [Stylus](http://stylus-lang.com/)
* Для написания html-кода используется шаблонизатор [Pug][https://pugjs.org/api/getting-started.html]
* Используется [транспайлер](https://babeljs.io/) Babel переписывающий код стандарта ES5-2015 в код стандарта ES5
* Используется сборщик [Webpack](https://webpack.js.org/) для сборки JavaScript модулей

## Установка
Для того чтобы начать работать со сборкой необходимо:
* Установить [NodeJS](https://nodejs.org/en/), если он не установлен
* Установить один из пакетных менеджеров, например Yarn или же использовать NPM
* Скачать сборку с github
* Устновить ```gulp``` глобально используя команду ```npm install gulp-cli --global```
* Перейти в папку со скачанной сборкой командой ```cd Gulp_stylus_build```
* Установить все необходимые зависимости командой ``npm i```
* Чтобы после установки зависимостей запустить сборку в режиме разработки необходимо использовать команду ```npm run dev``` или командой ```gulp``` т.к. режим разработки уставнолен по умолчанию
* Чтобы собрать проект для production необходимо использовать команду ```npm run build```

## Файловая структура сборки
```
gulp-scss-starter
├── dist
├── gulp-tasks
├── src
│   ├── fonts
│   ├── img
│   ├── js
│   ├── pug
│   └── styles
├── gulpfile.esm.js
├── webpack.config.js
├── package.json
├── .babelrc.js
├── .eslintrc.json
└── .gitignore
```

* Корневой каталог:
    * ```gulp-tasks``` - в ней расположены js-файлы с gulp-задачами
    * ```.babelrc.js``` - настройки транспайлера Babel
    * ```eslintrc.json``` - настройки для линтера eslint
    * ```.gitignore``` - список файлов и каталогов, которые должны быть проигнорированы git-ом
    * ```gulpfile.esm.js``` - настройки сборщика Gulp
    * ```webpack.config.js``` - настройки сборщика Webpack
    * ```package.json``` - список установленных зависимостей
* Директория ```src``` - используется для разработки
    * Локальные файлы шрифтов ```src/fonts```
    * JavaScript-файлы ```src/js```
    * Изображения ```src/img```
    * Pug файлы страницы проекта ```src/pug/pages```, cекции ```src/pug/pages/sections```, миксины ```src/pug/mixins``` 
    * Stylus файлы ```src/styles```
* Директория ```dist``` в ней запсукается локальный сервер для разработки

## Страницы проекта
* Страницы проекты находятся в папке ```src/pug/pages```
* Главная страница ```src/pug/pages/index.pug```

## Сторонние CSS и JS библиотеки
* Все сторонние библиотеку устанавливаются в каталог ```node_modules``` с помощью команды ```npm i package_name```
* Для подключения JS-файлов библиотек необходимо импортировать их в JS-файлы веб-страниц, на которых они будут использоваться. Пример подключения JS-библиотек:
```javascript
    import jquery from 'jquery'
```
Импорт js-библиотеки должен быть расположен в начале JS-файла

:warning: Если у вас в проекте используется несколько JS-библиотек, которые будут подключены на нескольких страницах, то для того чтобы избежать возникновения ошибок необходимо:
* Создать в каталоге ```src/js/modules_pages``` JS-файл, который будет называться также как и веб-страница, на которой он будет использоваться
* Затем в данный файл импортировать JS-библиотеку, которая будет использоваться только для данной страницы
* Для других веб-страниц выполнить аналогичные действия
* В файле ```webpack.config.js``` в точку входа добавить JS-файлы, страниц:
```javascript
    entry: {
        main: "./src/js/index.js",
        pageOne: "./src/js/modules_pages/pageOne.js,
        pageOne: "./src/js/modules_pages/two.js,
    }
```
* Подключить JS-файлы на html-страницах 